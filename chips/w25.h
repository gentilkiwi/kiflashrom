/*	Benjamin DELPY `gentilkiwi`
	https://blog.gentilkiwi.com
	benjamin@gentilkiwi.com
	Licence : https://creativecommons.org/licenses/by/4.0/
*/
/* * * * * * * * * * * * * * * * * * * * * * * * *
 * Winbond
 * -----------------------------------------------
 * NEXCOM
 * Winbond
 * * * * * * * * * * * * * * * * * * * * * * * * */
#pragma once
#include "../kiflashrom.h"

#define W25_JEDEC_BANK			1
#define W25_JEDEC_MANUFACTURER	111

#define W25_OPCODE_WRITE_ENABLE	0x06
#define W25_OPCODE_WRITE_ENABLE_FOR_VOLATILE_STATUS_REGISTER	0x50
#define W25_OPCODE_WRITE_DISABLE			0x04
#define W25_OPCODE_READ_STATUS_REGISTER		0x05
#define W25_OPCODE_WRITE_STATUS_REGISTER	0x01

#define W25_OPCODE_READ_DATA		0x03	// GENERIC_OPCODE_READ_DATA

#define W25_OPCODE_READ_UNIQUE_ID	0x4b	// GENERIC_OPCODE_RUID
#define W25_OPCODE_JEDEC_ID			0x9f	// JEDEC_ReadId

// 0x30 - W25X									X * CL CV
#define UID_W25X05CL							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x30, 0x10) // 512Kb	// W25X05CL
#define UID_W25X10CL							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x30, 0x11) // 1Mb	// W25X10CL
#define UID_W25X20CL_CV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x30, 0x12) // 2Mb	// W25X20CL W25X20CV
#define UID_W25X40CL_CV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x30, 0x13) // 4Mb	// W25X40CL W25X40CV
// 0x40 - W25Q, W25R & few W25M(SpiNOR die)		Q * CL DL JL CV DV FVxxG JVxxQ 		R * FV JV
#define UID_W25Q20CL_CV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x12) // 2Mb	// W25Q20CL W25Q20CV
#define UID_W25Q40CL_CV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x13) // 4Mb	// W25Q40CL	W25Q40CV
#define UID_W25Q80DL_DV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x14) // 8Mb	// W25Q80DL W25Q80DV
#define UID_W25Q16_DV_JL_JVxxQ					MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x15) // 16Mb	// W25Q16DV W25Q16JL W25Q16JVxxQ					W25M165AV(SpiNOR) W25M161AV(SpiNOR) 
#define UID_W25Q32_RV_FVxxG_JVxxQ				MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x16) // 32Mb	// W25Q32FVxxG W25Q32JVxxQ W25Q32RV							W25M321AV(SpiNOR)
#define UID_W25Q64_FVxxG_JVxxQ_R64FV_R64JV		MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x17) // 64Mb	// W25Q64FVxxG W25Q64JVxxQ W25R64FV W25R64JV		W25M641AV(SpiNOR)
#define UID_W25Q128_FVxxG_JVxxQ_R128FV_R128JV	MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x18) // 128Mb	// W25Q128FVxxG W25Q128JVxxQ W25R128FV W25R128JV	W25M121AV(SpiNOR)
#define UID_W25Q256_FVxxG_JVxxQ_R256FV_R256JV	MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x19) // 256Mb	// W25Q256FVxxG W25Q257FVxxG W25Q256JVxxQ W25Q257JVxxQ W25R256FV W25R256JV
#define UID_W25Q512JVxxQ_R512JV					MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x20) // 512Mb	// W25Q512JVxxQ W25R512JV
#define UID_W25Q01JVxxQ							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x40, 0x21) // 1Gb	// W25Q01JVxxQ
// 0x60 - W25Q, W25R & few W25M(SpiNOR die)		Q * DW EW FW PW FVxxQ JWxxQ NWxxQ	R * JW
#define UID_W25Q10EW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x11) // 1Mb	// W25Q10EW
#define UID_W25Q20EW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x12) // 2Mb	// W25Q20EW
#define UID_W25Q40EW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x13) // 4Mb	// W25Q40EW
#define UID_W25Q80EW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x14) // 8Mb	// W25Q80EW
#define UID_W25Q16_DW_FW_JWxxQ					MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x15) // 16Mb	// W25Q16DW W25Q16FW W25Q16JWxxQ					W25M165AW(SpiNOR) W25M161AW(SpiNOR)
#define UID_W25Q32_FW_FVxxQ_JWxxQ				MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x16) // 32Mb	// W25Q32FVxxQ W25Q32FW W25Q32JWxxQ
#define UID_W25Q64_FW_FVxxQ_JWxxQ_R64JW			MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x17) // 64Mb	// W25Q64FVxxQ W25Q64FW W25Q64JWxxQ W25R64JW
#define UID_W25Q128_FW_FVxxQ_JWxxQ_R128JW		MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x18) // 128Mb	// W25Q128FVxxQ W25Q128FW W25Q128JWxxQ W25R128JW
#define UID_W25Q256_FVxxQ_JWxxQ_R256JW			MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x19) // 256Mb	// W25Q256FVxxQ W25Q257FVxxQ W25Q256JWxxQ W25R256JW
#define UID_W25Q512_PW_NWxxQ					MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x20) // 512Mb	// W25Q512NWxxQ W25Q512PW
#define UID_W25Q01_PW_NWxxQ						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x60, 0x21) // 1Gb	// W25Q01NWxxQ W25Q01PW
// 0x70 - W25Q									Q * JVxxM
#define UID_W25Q16JVxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x15) // 16Mb	// W25Q16JVxxM
#define UID_W25Q32JVxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x16) // 32Mb	// W25Q32JVxxM
#define UID_W25Q64JVxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x17) // 64Mb	// W25Q64JVxxM
#define UID_W25Q128JVxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x18) // 128Mb	// W25Q128JVxxM
#define UID_W25Q256JVxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x19) // 256Mb	// W25Q256JVxxM
#define UID_W25Q512JVxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x20) // 512Mb	// W25Q512JVxxM
#define UID_W25Q01JVxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x70, 0x21) // 1Gb	// W25Q01JVxxM
// 0x80 - W25Q									Q * JWxxM NWxxM
#define UID_W25Q16JWxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x15) // 16Mb	// W25Q16JWxxM
#define UID_W25Q32JWxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x16) // 32Mb	// W25Q32JWxxM
#define UID_W25Q64JWxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x17) // 64Mb	// W25Q64JWxxM
#define UID_W25Q128JWxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x18) // 128Mb	// W25Q128JWxxM
#define UID_W25Q256JWxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x19) // 256Mb	// W25Q256JWxxM
#define UID_W25Q512NWxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x20) // 512Mb	// W25Q512NWxxM
#define UID_W25Q01NWxxM							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x80, 0x21) // 1Gb	// W25Q01NWxxM
// 0x90 - W25H									H * JV
#define UID_W25H256JV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x90, 0x19) // 256Mb	// W25H256JV
#define UID_W25H512JV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x90, 0x20) // 512Mb	// W25H512JV
#define UID_W25H01JV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x90, 0x21) // 1Gb	// W25H01JV
// 0xa0 - W25H									H* NW PW
#define UID_W25H256_W							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xa0, 0x19) // 256Mb	// W25H256NW W25H256PW
#define UID_W25H512_W							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xa0, 0x20) // 512Mb	// W25H512NW W25H512PW
#define UID_W25H01_W							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xa0, 0x21) // 1Gb	// W25H01NW W25H01PW
// 0xab, 0xbb, 0x61 - W25M						M * GV GW AW JWxxQ JV JWxxM
#define UID_W25M02GV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xab, 0x21) // 2Gb	// W25M02GV
#define UID_W25M02GW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xbb, 0x21) // 2Gb	// W25M02GW
#define UID_W25M321AW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x61, 0x16) // 32Mb	// W25M321AW(SpiNOR)
#define UID_W25M641AW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x61, 0x17) // 64Mb	// W25M641AW(SpiNOR)
#define UID_W25M121AW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x61, 0x18) // 128Mb	// W25M121AW(SpiNOR)
#define UID_W25M512JWxxQ						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x61, 0x19) // 512Mb	// W25M512JWxxQ
#define UID_W25M512JV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x71, 0x19) // 512Mb	// W25M512JV
#define UID_W25M512JWxxM						MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0x81, 0x19) // 512Mb	// W25M512JWxxM
// 0xab, 0xaa - W25N							N * GV KV
#define UID_W25N_M_AV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xab, 0x20) // 512Mb	// W25M165AV(SpiNAND)
#define UID_W25N512GV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xaa, 0x20) // 512Mb	// W25N512GV
#define UID_W25N01GV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xaa, 0x21) // 1Gb	// W25N01GV W25M161AV(SpiNAND) W25M321AV(SpiNAND) W25M641AV(SpiNAND) W25M121AV(SpiNAND)
#define UID_W25N02KV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xaa, 0x22) // 2Gb	// W25N02KV
#define UID_W25N04KV							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xaa, 0x23) // 4Gb	// W25N04KV
// 0xba, 0xbb, 0xbc, 0xbf - W25N				N * GW JW
#define UID_W25N512GW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xba, 0x20) // 512Mb	// W25N512GW W25M165AW(SpiNAND)
#define UID_W25N01GW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xba, 0x21) // 1Gb	// W25N01GW
#define UID_W25N_M_AW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xbb, 0x21) // 1Gb	// W25M161AW(SpiNAND) W25M321AW(SpiNAND) W25M641AW(SpiNAND) W25M121AW(SpiNAND)
#define UID_W25N01JW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xbc, 0x21) // 1Gb	// W25N01JW
#define UID_W25N02JW							MAKE_CHIP_UID(W25_JEDEC_BANK, W25_JEDEC_MANUFACTURER, 0xbf, 0x22) // 2Gb	// W25N02JW
